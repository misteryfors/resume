(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{3212:(e,t,a)=>{Promise.resolve().then(a.bind(a,9600)),Promise.resolve().then(a.t.bind(a,6972,23)),Promise.resolve().then(a.t.bind(a,955,23)),Promise.resolve().then(a.bind(a,4644)),Promise.resolve().then(a.t.bind(a,2497,23))},9600:(e,t,a)=>{"use strict";a.d(t,{CryptoDataProvider:()=>n,x:()=>i});var r=a(5155),s=a(2115);let o=(0,s.createContext)(void 0),c=[{id:"BTC",count:1.1},{id:"ETH",count:.2},{id:"TON",count:.3},{id:"NOT",count:.4},{id:"SOL",count:.5}],n=e=>{let{children:t}=e,[a,n]=(0,s.useState)([]);return(0,s.useEffect)(()=>{let e=localStorage.getItem("CryptoData");n(e?JSON.parse(e):c)},[]),(0,s.useEffect)(()=>{console.log("storage обновлён"),console.log(a)},[a]),(0,r.jsx)(o.Provider,{value:{storage:a,updateStorage:e=>{if(e)localStorage.setItem("CryptoData",JSON.stringify(e)),n(e);else{let e=localStorage.getItem("CryptoData");n(e?JSON.parse(e):[])}}},children:t})},i=()=>{let e=(0,s.useContext)(o);if(!e)throw Error("useCryptoData must be used within a CryptoDataProvider");return e}},5893:(e,t,a)=>{"use strict";async function r(){try{let e=await fetch("https://min-api.cryptocompare.com/data/all/coinlist"),t=await e.json(),a=Object.values(t.Data).map(e=>({id:e.Symbol,name:e.CoinName,image:"https://www.cryptocompare.com".concat(e.ImageUrl)}));return console.log(a),a}catch(e){return console.error("Ошибка запроса:",e),[]}}a.d(t,{a:()=>r})},4644:(e,t,a)=>{"use strict";a.d(t,{Header:()=>i});var r=a(5155),s=a(2115);a(6157);var o=a(5893),c=a(9600);let n=(e,t)=>{let[a,r]=(0,s.useState)(e);return(0,s.useEffect)(()=>{let a=setTimeout(()=>r(e),t);return()=>clearTimeout(a)},[e,t]),a},i=()=>{let[e,t]=(0,s.useState)(""),[a,i]=(0,s.useState)([]),[l,d]=(0,s.useState)([]),u=n(e,300),{storage:m,updateStorage:h}=(0,c.x)();(0,s.useEffect)(()=>{(async function(){try{let e=await (0,o.a)()||[];i(e)}catch(e){console.error("Error fetching data:",e)}})()},[]),(0,s.useEffect)(()=>{let e=u.toLowerCase();if(console.log("Фильтрация по запросу:",e),!e){d([]);return}d(a.filter(t=>t.id.toLowerCase().includes(e)||t.name.toLowerCase().includes(e)))},[u,a]);let _=async e=>{let t=Math.floor(10*Math.random())/10+.1;if(m.some(t=>t.id===e)){alert("Такой токен уже есть");return}try{let a=await fetch("https://data-api.cryptocompare.com/index/cc/v1/latest/tick?market=cadli&instruments=".concat(e,"-USD&apply_mapping=true&api_key=YOUR_API_KEY"));if(!(await a.json()).Data["".concat(e,"-USD")]){alert("У этой монеты нет пары с USD");return}h([...m,{id:e,count:t}])}catch(e){console.error("Ошибка при добавлении монеты:",e)}};return(0,r.jsxs)("header",{className:"header",children:[(0,r.jsx)("p",{className:"header__tag",children:"Dashboard"}),(0,r.jsxs)("div",{className:"header__search",children:[(0,r.jsx)("input",{className:"header__input",placeholder:"Search...",value:e,onChange:e=>t(e.target.value)}),(0,r.jsx)("img",{className:"header__search-img",src:"./search-normal.svg"}),(0,r.jsx)("div",{className:"header__results",children:l.length>0?l.map(e=>(0,r.jsxs)("div",{className:"header__result-item","data-coin-id":e.id,children:[(0,r.jsxs)("span",{className:"header__result-item-name",children:[e.name," (",e.id,")"]}),(0,r.jsx)("button",{className:"header__result-item-button",onClick:()=>_(e.id),children:"+"})]},e.id)):u&&(0,r.jsx)("p",{className:"header__no-results",children:"No results found"})})]}),(0,r.jsxs)("div",{className:"header__buttons-block",children:[(0,r.jsx)("button",{className:"header__notifications",children:(0,r.jsx)("img",{className:"header__account-arrow",src:"./Notification.svg"})}),(0,r.jsxs)("button",{className:"header__account-button",children:[(0,r.jsx)("img",{className:"header__account-img"}),(0,r.jsx)("p",{className:"header__account-name",children:"Courtney Henry"}),(0,r.jsx)("img",{className:"header__account-arrow",src:"./arrow-down.svg"})]})]})]})}},955:()=>{},6972:()=>{},6157:()=>{},2497:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[590,441,517,358],()=>t(3212)),_N_E=e.O()}]);